// language source
const languages = {
    "en": {
        en: "English",
        ja: "Japanese",
        ko: "Koean",
        my_name: "My name is",
        myeongkyu: "Myeongkyu Jeon",
        summary: "I am a back-end engineer with a degree in English Language and Literature. I am currently studying machine learning.",
        resume: "My resume is here.",
        about: "01. About Me",
        about_detail: "  Hello. My name is Myeongkyu Jeon. I usually agonize about how I can simplify what I do and this tendency led me to become interested in programming. Currently, I am a back-end engineer, but I aspire to become a full-stack engineer.\n\n  I majored in English/Japanese Language & Literature at ChungAng University and worked as an English educator for 2 years. After that, I served as an officer in the Korean Air Force for 3 years and 3 months. During my military service, I became interested in programming and I have been programming.\n\n  I completed a national IT education program and am enrolled in a machine learning program at KT AIVLE School, which is run by KT, a South Korean telecommunications company. I'm also managing my own website. I am planning to study Linux, AWS, and Networking in the near future.\n\n  My tech stack is as follows.",
        experience: "02. Where I've Worked",
        development: "Software Development",
        not_development: "Non-Development Sector",
        rokaf: "Republic of Korea Air Force",
        rokaf_career: "Base Unit Commander & Operational Control Officer",
        rokaf_at: "@ Republic of Korea Air Force",
        rokaf_work_1: "Overall management of unit assets and supplies",
        rokaf_work_2: "Troop management and leadership",
        rokaf_work_3: "Coordination between outpost and headquarters during shift duties",
        messi_career: "Full-time English Instructor",
        messi_at: "@ Messi",
        messi_work_1: "Conducted various English courses including College Entrance Exam, TOEIC, etc.",
        messi_work_2: "Lesson planning and structuring",
        messi_work_3: "Development of teaching materials and textbooks",
        work: "03. Some Things I’ve Built",
        work_solo: "Personal Project",
        work_team: "Team Project",
        my_dictionary: "A website that allows you to save words from dictionary websites via a Google Chrome extension and learn through tests. The website will be deployed once monetization on the currently operational site is complete.",
        my_study_materials: "A website where you can organize your personal study materials. Currently, it contains only my Linux study materials. The service is hosted on AWS and is planned to be monetized in the future.",
        manage_words: "A private-use software designed for systematically managing students' vocabulary when tutoring.",
        my_video_viewer: "A private-use software that opens localhost through a GUI and allows you to fetch videos from folders stored on your computer to watch them randomly, similar to TikTok.",


    },

    "ja": {
        en: "英語",
        ja: "日本語",
        ko: "韓国語",
        my_name: "私の名前は",
        myeongkyu: "「ミョンギュウ」です。",
        summary: "私は英語文学を専攻したバックエンドエンジニアです。現在、機械学習を学んでいます。",
        resume: "履歴書はここをクリックしてください。",
        about: "01. 自己紹介",
        about_detail: "  初めまして。私は全銘揆（ジョンミョンギュウ）と申します。普段から、どうすれば作業を効率化できるか考えることが多いです。この性格がきっかけで、プログラミングに関心を持ちました。現在はバックエンドエンジニアですが、将来はフルスタックエンジニアを目指しています。\n\n   私は韓国の中央大学で英語英文学と日語日文学を専攻しました。卒業後、2年間英語塾で教師として働き、その後、空軍の士官として3年間勤務しました。途中でプログラミングに興味を持ち、それからはプログラミングを続けています。\n\n  現在は、国で提供するIT教育を修了し、韓国の通信企業KTが運営するビッグデータ教育を受けています。また、個人サイトを運営中です。近い将来、Linux、AWS、ネットワークについて学ぶ予定です。\n\n  私の技術スタックは次のとおりです。",
        experience: "02. 経歴事項",
        development: "ソフトウェア開発",
        not_development: "非開発部門",
        rokaf: "大韓民国空軍",
        rokaf_career: "基地中隊長・作戦制御士官",
        rokaf_at: "@ 大韓民国空軍",
        rokaf_work_1: "部隊の資産および物資の全体的な管理",
        rokaf_work_2: "兵力の管理と指揮",
        rokaf_work_3: "交代勤務を進行中に前哨と司令部間のコミュニケーションを担当",
        messi_career: "専任英語講師",
        messi_at: "@ Messi",
        messi_work_1: "大学入試、TOEICなど、さまざまな英語コースを実施",
        messi_work_2: "レッスン計画と構造化",
        messi_work_3: "教材および教科書の開発",
        work: "03. プロジェクト",
        work_solo: "個人プロジェクト",
        work_team: "チームプロジェクト",
        my_dictionary: "Google Chromeの拡張機能を通じて、辞書サイトから単語を保存し、テストで学習できるウェブサイトです。現在運営中のサイトの収益化が完了次第、公開予定です。",
        my_study_materials: "個人の学習資料を整理できるウェブサイトです。現在は私が整理したLinuxの学習資料のみが存在します。AWSでサービスを提供しており、将来的に収益化を予定しています。",
        manage_words: "家庭教師をする際、生徒の語彙を体系的に管理するために作成したプライベート用ソフトウェアです。",
        my_video_viewer: "GUIを通じてローカルホストを開き、コンピュータに保存されたフォルダから動画を取り込み、TikTokのようにランダムで視聴できるようにしたプライベート用ソフトウェアです。",

    },

    "ko": {
        en: "영어",
        ja: "일본어",
        ko: "한국어",
        my_name: "제 이름은",
        myeongkyu: "전명규입니다.",
        summary: "저는 영어영문학을 전공한 백엔드 엔지니어입니다. 현재는 에이블스쿨에서 머신러닝에 대해 공부하고 있습니다.",
        resume: "이력서는 여기를 클릭하세요.",
        about: "01. 자기소개",
        about_detail: "  안녕하세요. 제 이름은 전명규라고 합니다. 저는 평소에 제가 하는 행위를 어떻게 하면 작업을 단순화시킬 수 있을지 고민을 많이 하는 편인데, 이런 성향 때문에 프로그래밍에 관심을 가지게 되었습니다. 현재는 백엔드 엔지니어지만 풀스택 엔지니어를 지향하고 있습니다.\n\n  저는 중앙대학교에서 영어영문학과 일어일문학을 전공했고 2년 동안 영어학원에서 강사로 일했습니다. 이후에 나라의 부름을 받아 공군 학사장교로 3년 3개월 동안 군복무를 수행하고, 프로그래밍에 흥미를 가지게 되어서 지금까지 이어오고 있습니다.\n\n  현재는 국비지원 it교육을 수료하고, KT 에이블 스쿨에서 빅데이터 관련 교육을 받고 있습니다. 또한 개인 사이트를 운영중입니다. 추후에는 Linux, AWS, Network에 대해서 공부할 예정에 있습니다.\n\n  제 기술 스택은 다음과 같습니다.",
        experience: "02. 경력사항",
        development: "소프트웨어 개발",
        not_development: "비개발 부문",
        rokaf: "대한민국 공군",
        rokaf_career: "기지중대장 및 작전통제장교",
        rokaf_at: "@ 대한민국 공군",
        rokaf_work_1: "전반적인 부대 자산 및 물자 관리",
        rokaf_work_2: "병력 관리 및 지휘",
        rokaf_work_3: "교대근무 진행 및 포대와 사령부 간의 커뮤니케이션 담당",
        messi_career: "전임강사",
        messi_at: "@ Messi",
        messi_work_1: "내신, 수능, 텝스 등 다양한 영어 강좌 진행",
        messi_work_2: "강의 계획 및 구성 작성",
        messi_work_3: "강의 자료 및 교재 개발",
        work: "03. 프로젝트",
        work_solo: "개인 프로젝트",
        work_team: "팀 프로젝트",
        my_dictionary: "구글 확장프로그램(extension)을 통해 사전 사이트에서 단어를 해당 사이트에 저장한 후 테스트를 통해 학습하는 웹사이트입니다. 현재 운영중인 사이트에서 수익화가 완료되면 배포 예정입니다.",
        my_study_materials: "개인 공부 자료를 정리할 수 있는 웹사이트입니다. 현재 제가 정리한 리눅스 공부 정리 자료만 존재합니다. AWS를 통해서 서비스를 하고 있으며, 수익화 예정에 있습니다.",
        manage_words: "과외를 할 때 학생들의 단어를 체계적으로 관리하기 위해서 만든 개인 용도 프로그램입니다.",
        my_video_viewer: "GUI를 통해서 로컬호스트를 열어서, 컴퓨터에 저장된 폴더에서 동영상을 가져와서 Tiktok처럼 무작위로 볼 수 있도록 하는 개인 용도 프로그램입니다.",


    }
};

// i18n
selectLanguage();
function selectLanguage() {

    const ens = document.querySelectorAll('.portfolio_en');
    const jas = document.querySelectorAll('.portfolio_ja');
    const kos = document.querySelectorAll('.portfolio_ko');

    let setLanguage = (lang) => {
        let changeNodeLists = Array.prototype.slice.call(document.querySelectorAll('[data-detect]'));

        changeNodeLists.map(value => {
            value.textContent = languages[lang][value.dataset.detect]
        })
    };

    for (let i = 0; i < 2; i++) {
        ens[i].addEventListener("click", () => {
            setLanguage(ens[i].dataset.lang);
            localStorage.setItem('language', 'en');
        });

        jas[i].addEventListener("click", () => {
            setLanguage(jas[i].dataset.lang);
            localStorage.setItem('language', 'ja');
        });

        kos[i].addEventListener("click", () => {
            setLanguage(kos[i].dataset.lang);
            localStorage.setItem('language', 'ko');
        });
    }

};

getLanguageSetting();
function getLanguageSetting() {

    const setting = localStorage.getItem('language');

    if (setting === null) {
        const locale = getLocale();
        if (locale === 'ko') {
            localStorage.setItem('language', 'ko');
        } else if (locale === 'ja') {
            localStorage.setItem('language', 'ja');
        } else {
            localStorage.setItem('language', 'en');
        }
    }

    const ens = document.querySelectorAll('.portfolio_en');
    const jas = document.querySelectorAll('.portfolio_ja');
    const kos = document.querySelectorAll('.portfolio_ko');

    let setLanguage = (lang) => {
        let changeNodeLists = Array.prototype.slice.call(document.querySelectorAll('[data-detect]'));

        changeNodeLists.map(value => {
            value.textContent = languages[lang][value.dataset.detect]
        })
    };

    for (let i = 0; i < 2; i++) {
        if (setting === 'ko') {
            setLanguage(kos[i].dataset.lang);
        } else if (setting === 'ja') {
            setLanguage(jas[i].dataset.lang);
        } else {
            setLanguage(ens[i].dataset.lang);
        }
    };
};


function getLocale() {
    if (navigator) {
        if (navigator.language) {
            return navigator.language;
        }
        else if (navigator.browserLanguage) {
            return navigator.browserLanguage;
        }
        else if (navigator.systemLanguage) {
            return navigator.systemLanguage;
        }
        else if (navigator.userLanguage) {
            return navigator.userLanguage;
        }
    }
}